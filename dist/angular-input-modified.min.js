/**
 * angular-input-modified - Angular module to detect and indicate input modifications
 * @version v2.4.2
 * @link https://github.com/betsol/angular-input-modified
 * @license MIT
 *
 * @author Slava Fomin II <s.fomin@betsol.ru>
 */
!function(i,e){"use strict";function o(){return{restrict:"A",controller:["$scope","$element","$attrs",function(i,e,o){this.isEnabled=function(){return"true"==o.bsModifiable}}]}}e.module("ngInputModified",[]).directive("bsModifiable",o)}(window,angular),function(i,e){"use strict";function o(){var i={enabledGlobally:!0,modifiedClassName:"ng-modified",notModifiedClassName:"ng-not-modified"};return{enableGlobally:function(){return i.enabledGlobally=!0,this},disableGlobally:function(){return i.enabledGlobally=!1,this},setModifiedClassName:function(e){return i.modifiedClassName=String(e),this},setNotModifiedClassName:function(e){return i.notModifiedClassName=String(e),this},$get:function(){return i}}}e.module("ngInputModified").provider("inputModifiedConfig",o)}(window,angular),function(i){"use strict";function e(e,o,d){var n=o;return{name:"form",restrict:d?"EAC":"E",require:["?form"],link:function(o,d,t,f){function a(){i.forEach(c.modifiedModels,function(i){i.reset()}),i.forEach(c.modifiedChildForms,function(i){i.reset()})}function l(i,e){var o=e.indexOf(i),d=-1!==o;i.modified&&!d?(e.push(i),r()):!i.modified&&d&&(e.splice(o,1),r())}function r(){u(),C&&"function"==typeof C.$$onChildFormModifiedStateChanged&&C.$$onChildFormModifiedStateChanged(c),s(),o.$emit("inputModified.formChanged",c.modified,c)}function u(){c.modifiedCount=c.modifiedModels.length,c.modifiedChildFormsCount=c.modifiedChildForms.length,c.modified=c.modifiedCount+c.modifiedChildFormsCount>0}function s(){e.addClass(d,c.modified?n.modifiedClassName:n.notModifiedClassName),e.removeClass(d,c.modified?n.notModifiedClassName:n.modifiedClassName)}function m(i){var e=c.modifiedChildForms.indexOf(i);-1!==e&&(c.modifiedChildForms.splice(e,1),r())}var c=f[0],C=c.$$parentForm||d.parent().controller("form");c&&(c.modified=!1,c.reset=a,c.modifiedCount=0,c.modifiedModels=[],c.$$onChildModelModifiedStateChanged=function(i){l(i,c.modifiedModels)},c.modifiedChildFormsCount=0,c.modifiedChildForms=[],c.$$onChildFormModifiedStateChanged=function(i){l(i,c.modifiedChildForms)},c.$$onChildFormDestroyed=m,d.on("$destroy",function(){C&&"function"==typeof C.$$onChildFormDestroyed&&C.$$onChildFormDestroyed(c)}))}}}i.module("ngInputModified").directive("form",["$animate","inputModifiedConfig",function(i,o){return e(i,o,!1)}]).directive("ngForm",["$animate","inputModifiedConfig",function(i,o){return e(i,o,!0)}])}(angular),function(i,e){"use strict";function o(i,o,n,t){var f=o;return{restrict:"A",require:["?ngModel","?^form","?^bsModifiable"],link:function(o,a,l,r){function u(){y||s();var i=!d(g.$modelValue,g.masterValue);g.modified!==i&&(g.modified=i,p&&"function"==typeof p.$$onChildModelModifiedStateChanged&&p.$$onChildModelModifiedStateChanged(g),m())}function s(){g.masterValue=e.copy(g.$modelValue),m(),y=!0}function m(){i.addClass(a,g.modified?f.modifiedClassName:f.notModifiedClassName),i.removeClass(a,g.modified?f.notModifiedClassName:f.modifiedClassName)}function c(){var i=arguments;$(function(){F.apply(g,i),g.masterValue=e.copy(g.$modelValue),g.modified=!1,p&&"function"==typeof p.$$onChildModelModifiedStateChanged&&p.$$onChildModelModifiedStateChanged(g),m()})}function C(){h||(h=t(M).assign);var i=e.copy(g.masterValue);h(o,i)}function $(i){var e=g.$modelValue;g.$modelValue=null,n(function(){g.$modelValue=e,n(i,0)},0)}var h,M=l.ngModel,g=r[0],p=r[1],b=r[2];if(g){var v=b?b.isEnabled():void 0;if(!(f.enabledGlobally&&!1===v||!f.enabledGlobally&&!0!==v)){var y=!1,F=g.$setPristine;g.$setPristine=c,g.modified=!1,g.masterValue=void 0,g.reset=C,o.$watch(M,u,!0)}}}}}function d(i,o){return i=n(i),o=n(o),"object"==typeof i&&"object"==typeof o?i instanceof Date&&o instanceof Date?i.getTime()===o.getTime():e.equals(i,o):i==o}function n(i){return void 0===i||""===i?null:i}e.module("ngInputModified").directive("ngModel",o),o.$inject=["$animate","inputModifiedConfig","$timeout","$parse"]}(window,angular);