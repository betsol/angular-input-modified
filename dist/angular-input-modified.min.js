!function(e,i){"use strict";function o(){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,i,o){this.isEnabled=function(){return"true"==o.bsModifiable}}]}}i.module("ngInputModified",[]).directive("bsModifiable",o)}(window,angular),function(e,i){"use strict";function o(){var e={enabledGlobally:!0,modifiedClassName:"ng-modified",notModifiedClassName:"ng-not-modified"};return{enableGlobally:function(){return e.enabledGlobally=!0,this},disableGlobally:function(){return e.enabledGlobally=!1,this},setModifiedClassName:function(i){return e.modifiedClassName=String(i),this},setNotModifiedClassName:function(i){return e.notModifiedClassName=String(i),this},$get:function(){return e}}}i.module("ngInputModified").provider("inputModifiedConfig",o)}(window,angular),function(e,i){"use strict";function o(e,o,t){var d=o;return{name:"form",restrict:t?"EAC":"E",require:["?form"],link:function(o,t,n,l){function a(){i.forEach(s.modifiedModels,function(e){e.reset()}),i.forEach(s.modifiedChildForms,function(e){e.reset()})}function r(e,i){var t=i.indexOf(e),d=-1!==t,n=!0;e.modified&&!d?i.push(e):!e.modified&&d?i.splice(t,1):n=!1,n&&(f(),u&&"function"==typeof u.$$notifyChildFormModifiedStateChanged&&u.$$notifyChildFormModifiedStateChanged(s),m(),o.$emit("inputModified.formChanged",s.modified,s))}function f(){s.modifiedCount=s.modifiedModels.length,s.modifiedChildFormsCount=s.modifiedChildForms.length,s.modified=s.modifiedCount+s.modifiedChildFormsCount>0}function m(){e.addClass(t,s.modified?d.modifiedClassName:d.notModifiedClassName),e.removeClass(t,s.modified?d.notModifiedClassName:d.modifiedClassName)}var s=l[0],u=s.$$parentForm||t.parent().controller("form");s&&(s.modified=!1,s.reset=a,s.modifiedCount=0,s.modifiedModels=[],s.$$notifyModelModifiedStateChanged=function(e){r(e,s.modifiedModels)},s.modifiedChildFormsCount=0,s.modifiedChildForms=[],s.$$notifyChildFormModifiedStateChanged=function(e){r(e,s.modifiedChildForms)})}}}i.module("ngInputModified").directive("form",["$animate","inputModifiedConfig",function(e,i){return o(e,i,!1)}]).directive("ngForm",["$animate","inputModifiedConfig",function(e,i){return o(e,i,!0)}])}(window,angular),function(window,angular){"use strict";function ngModelModifiedFactory($animate,inputModifiedConfig,$timeout){var config=inputModifiedConfig;return{restrict:"A",require:["?ngModel","?^form","?^bsModifiable"],link:function($scope,$element,attrs,controllers){function onInputValueChanged(){masterValueIsSet||initializeMasterValue();var e=!compare(modelCtrl.$modelValue,modelCtrl.masterValue);modelCtrl.modified!==e&&(modelCtrl.modified=e,formCtrl&&"function"==typeof formCtrl.$$notifyModelModifiedStateChanged&&formCtrl.$$notifyModelModifiedStateChanged(modelCtrl),updateCssClasses())}function initializeMasterValue(){modelCtrl.masterValue=modelCtrl.$modelValue,updateCssClasses(),masterValueIsSet=!0}function updateCssClasses(){$animate.addClass($element,modelCtrl.modified?config.modifiedClassName:config.notModifiedClassName),$animate.removeClass($element,modelCtrl.modified?config.notModifiedClassName:config.modifiedClassName)}function setPristine(){stabilizeValue(function(){originalSetPristine.apply(this,arguments),modelCtrl.masterValue=modelCtrl.$modelValue,modelCtrl.modified=!1,formCtrl.$$notifyModelModifiedStateChanged(modelCtrl),updateCssClasses()})}function reset(){try{eval("$scope."+modelPath+" = modelCtrl.masterValue;")}catch(exception){}}function stabilizeValue(e){var i=modelCtrl.$modelValue;modelCtrl.$modelValue=null,$timeout(function(){modelCtrl.$modelValue=i,$timeout(e,0)},0)}var modelPath=attrs.ngModel,modelCtrl=controllers[0],formCtrl=controllers[1],bsModifiable=controllers[2];if(modelCtrl){var enabled=bsModifiable?bsModifiable.isEnabled():void 0;if(!(config.enabledGlobally&&0==enabled||!config.enabledGlobally&&!0!==enabled)){var masterValueIsSet=!1,originalSetPristine=modelCtrl.$setPristine;modelCtrl.$setPristine=setPristine,modelCtrl.modified=!1,modelCtrl.masterValue=void 0,modelCtrl.reset=reset,$scope.$watch(modelPath,onInputValueChanged)}}}}}function compare(e,i){return e=normalizeValue(e),i=normalizeValue(i),"object"==typeof e&&"object"==typeof i?e instanceof Date&&i instanceof Date?e.getTime()===i.getTime():angular.equals(e,i):e==i}function normalizeValue(e){return void 0===e||""===e?null:e}angular.module("ngInputModified").directive("ngModel",ngModelModifiedFactory),ngModelModifiedFactory.$inject=["$animate","inputModifiedConfig","$timeout"]}(window,angular);